spring.application.name=api-gateway
server.port = 9000
eureka.client.serviceUrl.defaultZone = http://${CONFIG_SERVER_URL:localhost}:8761/eureka/
spring.main.allow-bean-definition-overriding=true
#Zipkin
management.tracing.sampling.probability=1.0
management.zipkin.tracing.endpoint=http://localhost:9411/api/v2/spans
spring.cloud.gateway.server.webflux.discovery.locator.enabled=true

spring.cloud.gateway.server.webflux.routes[0].id=cart-service
spring.cloud.gateway.server.webflux.routes[0].uri=lb://cart-service
spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/api/cart/**
#spring.cloud.gateway.server.webflux.routes[0].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[1].id=coupon-service
spring.cloud.gateway.server.webflux.routes[1].uri=lb://coupon-service
spring.cloud.gateway.server.webflux.routes[1].predicates[0]=Path=/api/coupons/**
#spring.cloud.gateway.server.webflux.routes[1].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[2].id=order-service
spring.cloud.gateway.server.webflux.routes[2].uri=lb://order-service
spring.cloud.gateway.server.webflux.routes[2].predicates[0]=Path=/api/orders/**
#spring.cloud.gateway.server.webflux.routes[2].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[3].id=payment-service
spring.cloud.gateway.server.webflux.routes[3].uri=lb://payment-service
spring.cloud.gateway.server.webflux.routes[3].predicates[0]=Path=/api/payment/**
#spring.cloud.gateway.server.webflux.routes[3].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[4].id=product-service
spring.cloud.gateway.server.webflux.routes[4].uri=lb://product-service
spring.cloud.gateway.server.webflux.routes[4].predicates[0]=Path=/products/**
#spring.cloud.gateway.server.webflux.routes[4].filters[0]=RewritePath=/api/products/(?<segment>.*), /products/${segment}



spring.cloud.gateway.server.webflux.routes[5].id=review-service
spring.cloud.gateway.server.webflux.routes[5].uri=lb://review-service
spring.cloud.gateway.server.webflux.routes[5].predicates[0]=Path=/api/reviews/**
#spring.cloud.gateway.routes[5].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[6].id=review-service
spring.cloud.gateway.server.webflux.routes[6].uri=lb://review-service
spring.cloud.gateway.server.webflux.routes[6].predicates[0]=Path=/api/reviews/**
#spring.cloud.gateway.server.webflux.routes[6].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webfluxspring.cloud.gateway.routes[7].id=seller-order-service
spring.cloud.gateway.server.webflux.routes[7].uri=lb://seller-order-service
spring.cloud.gateway.server.webflux.routes[7].predicates[0]=Path=/api/seller/orders/**
#spring.cloud.gateway.server.webflux.routes[7].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[8].id=seller-order-service
spring.cloud.gateway.server.webflux.routes[8].uri=lb://seller-order-service
spring.cloud.gateway.server.webflux.routes[8].predicates[0]=Path=/sellers/products/**
#spring.cloud.gateway.server.webflux.routes[8].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[9].id=seller-service
spring.cloud.gateway.server.webflux.routes[9].uri=lb://seller-service
spring.cloud.gateway.server.webflux.routes[9].predicates[0]=Path=/sellers/**
#spring.cloud.gateway.server.webflux.routes[9].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[10].id=user-service
spring.cloud.gateway.server.webflux.routes[10].uri=lb://user-service
spring.cloud.gateway.server.webflux.routes[10].predicates[0]=Path=/auth/**
#spring.cloud.gateway.server.webflux.routes[10].filters[0]=StripPrefix=1

spring.cloud.gateway.server.webflux.routes[11].id=user-service
spring.cloud.gateway.server.webflux.routes[11].uri=lb://user-service
spring.cloud.gateway.server.webflux.routes[11].predicates[0]=Path=/user/**
#spring.cloud.gateway.server.webflux.routes[11].filters[0]=StripPrefix=1